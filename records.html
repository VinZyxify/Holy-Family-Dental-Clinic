<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Patient Records - Holy Family Dental Clinic</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        /* Base Styles */
        :root {
            --bg-color: #cfd7e4;
            --sidebar-bg: #2c3e50;
            --sidebar-text: rgba(255, 255, 255, 0.8);
            --sidebar-active: #00bfff;
            --card-bg: white;
            --text-color: #2c3e50;
            --text-muted: #777;
            --border-color: #eee;
            --hover-bg: #ebebeb;
            --today-bg: #e6f7ff;
            --selected-bg: #00bfff;
            --selected-text: white;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        /* Dark Mode Variables */
        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --sidebar-bg: #151e25;
            --sidebar-text: rgba(255, 255, 255, 0.8);
            --sidebar-active: #00bfff;
            --card-bg: #2d2d2d;
            --text-color: #e0e0e0;
            --text-muted: #aaa;
            --border-color: #444;
            --hover-bg: #333;
            --today-bg: #003366;
            --selected-bg: #006699;
            --selected-text: white;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: 'Inter', Arial, sans-serif;
            margin: 0;
            transition: background-color 0.3s ease;
            background-size: cover; /* Ensures the image covers the entire background without distortion */
            background-attachment: fixed; /* Keeps the background fixed while scrolling */
            background-color: var(--bg-color);
            color: var(--sidebar-text);
        }

        /* Dashboard Layout */
        .dashboard {
            display: flex;
            height: 100vh;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: rgba(44, 62, 80, 0.521); /* Slightly transparent sidebar */
            color: var(--sidebar-text);
            padding: 20px 0;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease;
        }

        .sidebar-header {
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }

        .sidebar-header h2 {
            color: var(--sidebar-active);
            margin: 0;
            font-size: 22px;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-menu li {
            margin-bottom: 5px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: var(--sidebar-text);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background-color: rgba(0, 191, 255, 0.2);
            color: white;
            border-left: 3px solid var(--sidebar-active);
        }

        .sidebar-menu i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .main-content {
            flex: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: background-color 0.3s ease;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: var(--text-color);
            margin: 0;
            transition: color 0.3s ease;
        }

        /* Theme Toggle Switch */
        .theme-toggle {
            display: flex;
            align-items: center;
            margin-left: 20px;
            gap: 10px;
        }

        .theme-toggle-label {
            font-size: 14px;
            color: var(--text-color);
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #00bfff;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Top Row Layout */
        .top-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .stats-container {
            display: flex;
            gap: 20px;
            flex: 2;
        }

        .profile-container {
            flex: 1;

        }


        /* Stats Cards */

        .stat-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            height: 90px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            flex: 1;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 20px;
            color: white;
        }

        .clock-icon { background-color: #2c3e50; }
        .upcoming-icon { background-color: #9C27B0; }

        .stat-content {
            flex: 1;
        }

        .stat-value {
            display: block;
            font-size: 24px;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 5px;
            transition: color 0.3s ease;
        }

        .stat-label {
            font-size: 14px;
            color: var(--text-muted);
            transition: color 0.3s ease;
        }

        .stat-date {
            font-size: 12px;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* Content Layout */
        .content-container {
            display: flex;
            gap: 20px;
            flex: 1;
        }

        .left-panel {
            flex: 2;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: -23%;
            
        }

        .right-panel {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 27px;
            
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.904); /* Slightly transparent white */
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--shadow);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
            margin-bottom: -9px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .card-header h2 {
            color: var(--text-color);
            margin: 0;
            margin-top: -10px;
            font-size: 18px;
            transition: color 0.3s ease;
        }

        .filter-container {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-label {
            font-size: 14px;
            color: var(--text-muted);
            margin-right: 5px;
        }

        .filter-select {
            padding: 8px 12px;
            border-radius: 5px;
            border: 1px solid var(--border-color);
            background-color: var(--card-bg);
            color: var(--text-color);
            font-size: 14px;
            cursor: pointer;
            min-width: 180px;
        }

        /* edid view all button */
        .btn {
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            margin-top: -10px;
            align-items: center;
            gap: 5px;
            font-size: 13px;
            border: none;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--sidebar-active);
            color: var(--sidebar-active);
        }

        .btn-outline:hover {
            background-color: rgba(0, 191, 255, 0.1);
        }

        /* Treatment History  */
        .treatment-history-container {
            flex: 1;
            overflow-y: auto;
            padding-right: 10px;
            padding-left: -5px;
            max-height: 570px; /* Reduced from 586px */
            background-color: rgba(255, 255, 255, 0.9); /* Slightly transparent background */
            border-radius: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Subtle shadow for the grid */
        }

        .treatment-history-container::-webkit-scrollbar {
            width: 6px;
        }

        .treatment-history-container::-webkit-scrollbar-track {
            background: var(--bg-color);
            border-radius: 3px;
        }

        .treatment-history-container::-webkit-scrollbar-thumb {
            background: var(--sidebar-active);
            border-radius: 3px;
        }

        .treatment-history-container::-webkit-scrollbar-thumb:hover {
            background: #009acd;
        }


        .treatment-history-container table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 0; /* Removes extra spacing above the table */
        }


        
        .treatment-history-container table thead th {
            position: sticky;
            top: 0; /* Sticks the header to the top of the container */
            z-index: 2; /* Ensures the header stays above the table rows */
            background-color: var(--sidebar-bg); /* Matches the header background color */
            color: white; /* Ensures text is visible */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Adds a subtle shadow for better visibility */
        }



        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 5px;
        }

        th, td{
            border: 1px solid var(--border-color); /* Add border to each cell */
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: var(--sidebar-bg); /* Header background color */
            color: white; /* Header text color */
            font-weight: bold;
}
        
        tr {
            border-bottom: 1px solid var(--border-color);
        }
        
        tr:hover {
            background-color: rgba(0, 191, 255, 0.05);
        }
        
        td {
            padding: 12px;
            color: var(--text-color);
        }

        tr:hover {
            background-color: rgba(0, 191, 255, 0.1); /* Highlight row on hover */
        }
        
        .status-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-completed {
            background-color: #e6f7e8;
            color: #4CAF50;
        }
        
        .action-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            color: var(--sidebar-active);
            background-color: rgba(0, 191, 255, 0.1);
        }
        
        .action-btn i {
            font-size: 14px;
        }

        /* Patient Profile */

        .profile-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            height: 100%; /* Adjusted height sa the profile card */
            
        }

        .profile-card {
            display: flex;
            margin-top: 10px;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .profile-img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid var(--sidebar-active);
        }

        .profile-name {
            color: var(--text-color);
            margin: 0 0 15px;
            font-size: 18px;
        }

        .profile-id {
            color: var(--text-muted);
            font-size: 14px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .profile-details {
            width: 100%;
        }

        .profile-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .profile-label {
            color: var(--text-muted);
            font-size: 14px;
        }

        .profile-value {
            color: var(--text-color);
            font-size: 14px;
            font-weight: 500;
        }

        .copy-btn {
            background: none;
            border: none;
            color: var(--sidebar-active);
            cursor: pointer;
            font-size: 12px;
            padding: 2px 6px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background-color: rgba(0, 191, 255, 0.1);
        }

        .copy-btn i {
            font-size: 12px;
        }

        .copy-tooltip {
            position: absolute;
            background-color: #333;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.2s;
            pointer-events: none;
        }

        .copy-btn:hover .copy-tooltip {
            opacity: 1;
        }


        
        /* Dental Progress */
        .progress-gallery {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            height: 160px; /* Added fixed height */
            gap: 15px;
        }

        .progress-item {
           margin-top: -5px;
           position: relative;
           border-radius: 8px;
           overflow: hidden;
           height: 100%; /* Changed from 185px to 100% */
           margin-bottom: 10px;
        }

        .progress-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .progress-item:hover img {
            transform: scale(1.05);
        }

        .progress-tag {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: var(--sidebar-active);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }




        /* Clock Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 500px;
            width: 90%;
        }
        
        .big-clock {
            font-size: 5rem;
            font-weight: 700;
            color: var(--sidebar-active);
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            letter-spacing: 5px;
        }
        
        .big-date {
            font-size: 1.5rem;
            color: var(--text-color);
            margin-bottom: 30px;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.5rem;
            color: var(--text-muted);
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: var(--sidebar-active);
        }
        
        .analog-clock {
            width: 200px;
            height: 200px;
            border: 8px solid var(--sidebar-active);
            border-radius: 50%;
            margin: 20px auto;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 191, 255, 0.3);
        }
        
        .clock-center {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 12px;
            height: 12px;
            background: var(--sidebar-active);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
        }
        
        .hour-hand, .minute-hand, .second-hand {
            position: absolute;
            bottom: 50%;
            left: 50%;
            transform-origin: 50% 100%;
            background: var(--text-color);
            border-radius: 5px;
        }
        
        .hour-hand {
            width: 6px;
            height: 50px;
            margin-left: -3px;
        }
        
        .minute-hand {
            width: 4px;
            height: 70px;
            margin-left: -2px;
            background: var(--sidebar-active);
        }
        
        .second-hand {
            width: 2px;
            height: 80px;
            margin-left: -1px;
            background: #ff5555;
        }
        
        /* Make the clock in the stat card clickable */
        .stat-card#clock-card {
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .stat-card#clock-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        /* Add animation to the clock in the stat card */
        .stat-card#clock-card .stat-icon {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(44, 62, 80, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(44, 62, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(44, 62, 80, 0); }
        }









        #clock-card {
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
        border-left: 4px solid #00bfff;
        background: linear-gradient(135deg, var(--card-bg) 0%, rgba(0, 191, 255, 0.05) 100%);
    }
    
    #clock-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 191, 255, 0.1);
    }
    
    .clock-container {
        display: flex;
        align-items: center;
    }
    
    .stat-icon.clock-icon {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #2c3e50 0%, #4a6b8a 100%);
        position: relative;
        margin-right: 20px;
        animation: pulse 2s infinite;
    }
    
    .clock-face {
        position: absolute;
        width: 40px;
        height: 40px;
        border: 2px solid rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    
    .clock-hour-hand,
    .clock-minute-hand,
    .clock-second-hand {
        position: absolute;
        background: white;
        border-radius: 3px;
        transform-origin: bottom center;
        left: 50%;
        bottom: 50%;
    }
    
    .clock-hour-hand {
        width: 3px;
        height: 12px;
        margin-left: -1.5px;
        transform: rotate(30deg);
    }
    
    .clock-minute-hand {
        width: 2px;
        height: 16px;
        margin-left: -1px;
        transform: rotate(45deg);
    }
    
    .clock-second-hand {
        width: 1px;
        height: 18px;
        background: #ff5555;
        margin-left: -0.5px;
        transform: rotate(10deg);
    }
    
    .stat-value {
        font-size: 25px;
        font-weight: 500;
        letter-spacing: 1px;
        display: flex;
        align-items: center;
    }
    
    .time-part {
        min-width: 22px;
        text-align: center;
        background: rgba(0, 191, 255, 0.1);
        padding: 2px 4px;
        border-radius: 4px;
        margin: 0 2px;
    }
    
    .time-colon {
        margin: 0 2px;
    }
    
    .time-ampm {
        font-size: 16px;
        margin-left: 8px;
        color: var(--sidebar-active);
        background: rgba(0, 191, 255, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
    }
    
    .stat-label {
        font-size: 14px;
        color: var(--text-muted);
        margin-top: 2px;
    }
    
    .stat-date {
        display: flex;
        align-items: center;
        margin-top: 8px;
        font-size: 13px;
        color: var(--text-muted);
    }




    .calendar-date {
    padding: 10px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    color: var(--text-color);
    background-color: transparent;
}

.calendar-date:hover {
    background-color: var(--sidebar-active); /* Highlight background */
    color: white; /* Text color on hover */
}
    
    .calendar-icon {
        position: relative;
        margin-right: 8px;
    }
    
    .calendar-top {
        position: absolute;
        top: -5px;
        left: 3px;
        width: 14px;
        height: 6px;
        background: #ff5555;
        border-radius: 2px 2px 0 0;
    }
    
    .fa-calendar-alt {
        color: var(--sidebar-active);
    }
    
    /* Animations */
    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(0, 191, 255, 0.2); }
        70% { box-shadow: 0 0 0 10px rgba(0, 191, 255, 0); }
        100% { box-shadow: 0 0 0 0 rgba(0, 191, 255, 0); }
    }
    
    @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }
    
    .blink {
        animation: blink 1s infinite;
    }





    /* Header Styles */


    .close-modal {
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 1.5rem;
    color: var(--text-muted);
    cursor: pointer;
    transition: color 0.3s;
}

.close-modal:hover {
    color: var(--sidebar-active); /* Highlight color on hover */
}




    .sortable-header, .filter-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .header-actions {
        display: flex;
        gap: 5px;
        margin-left: 10px;
    }
    
    .sort-btn, .filter-btn {
        background: none;
        border: none;
        color: var(--text-muted);
        cursor: pointer;
        padding: 2px 5px;
        border-radius: 4px;
        transition: all 0.2s;
    }

    
    
    .sort-btn:hover, .filter-btn:hover {
        background: rgba(0, 191, 255, 0.1);
        color: var (--sidebar-active);
    }
    
    .sort-btn.active {
        color: var(--sidebar-active);
    }
    
    .sort-btn .fa-sort-up,
    .sort-btn .fa-sort-down {
        display: none;
    }
    
    .sort-btn.asc .fa-sort {
        display: none;
    }
    
    .sort-btn.asc .fa-sort-up {
        display: inline-block;
        color: var(--sidebar-active);
    }
    
    .sort-btn.desc .fa-sort {
        display: none;
    }
    
    .sort-btn.desc .fa-sort-down {
        display: inline-block;
        color: var(--sidebar-active);
    }
    
    /* Filter Dropdown Styles */
    .filter-dropdown {
        position: relative;
        display: inline-block;
    }
    
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: var(--card-bg);
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
        z-index: 1;
        border-radius: 6px;
        border: 1px solid var(--border-color);
        right: 0;
        top: 100%;
    }
    
    .dropdown-content div {
        color: var(--text-color);
        padding: 8px 12px;
        text-decoration: none;
        display: block;
        cursor: pointer;
        font-size: 14px;
    }
    
    .dropdown-content div:hover {
        background-color: rgba(0, 191, 255, 0.1);
        color: var(--sidebar-active);
    }
    
    .filter-dropdown:hover .dropdown-content {
        display: block;
    }
    
    .filter-dropdown.active .dropdown-content {
        display: block;
    }
/* Enhance Reset Button */
#resetTable {
    background-color: #9adfff;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.3s ease;
}

#resetTable:hover {
    background-color: #e04444;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}










        



    .analog-clock {
    width: 200px;
    height: 200px;
    border: 8px solid var(--sidebar-active);
    border-radius: 50%;
    margin: 20px auto;
    position: relative;
    box-shadow: 0 0 20px rgba(0, 191, 255, 0.3);
    background: url('logo.png') no-repeat center center;
    background-size: contain; /* Ensures the image fits within the container without distortion */
}



/* Progress Indicator */
.progress-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px; /* Reduce gap between steps */
    margin-top: 10px; /* Reduce margin */
    font-size: 12px; /* Smaller font size */
}

.progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 14px;
    color: #999;
}

.progress-step .circle {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: #e0e0e0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: #fff;
    margin-bottom: 5px;
}

.progress-step .circle.active {
    background-color: #f0c040; /* Gold color for active step */
}

.progress-line {
    flex: 1;
    height: 2px;
    background-color: #e0e0e0;
    position: relative;
    top: 15px;
}



.required-field {
    position: relative;
}

.required-field::after {
    content: "*";
    color: #ff5555;
    margin-left: 4px;
    font-size: 16px;
}


@media (min-width: 2560px) {
    body {
        font-size: 1.5rem; /* Larger font size for 4K displays */
    }
    .stat-card {
        padding: 30px; /* Adjust padding for better spacing */
    }
}

/* Adjustments for 4K resolution (3840x2160) */
@media (min-width: 3840px) {
    body {
        font-size: 1.8rem; /* Larger font size for better readability */
    }
    .stat-card {
        padding: 40px; /* Increase padding for better spacing */
    }
    .btn {
        font-size: 1.2rem; /* Larger button text */
        padding: 12px 20px;
    }
    .header h1 {
        font-size: 2.5rem; /* Larger header text */
    }
}

/* Adjustments for Full HD resolution (1920x1080) */
@media (min-width: 1920px) and (max-width: 3839px) {
    body {
        font-size: 1.2rem; /* Slightly larger font size for readability */
    }
    .stat-card {
        padding: 25px; /* Adjust padding for better spacing */
    }
    .btn {
        font-size: 1rem; /* Adjust button text size */
        padding: 10px 15px;
    }
    .header h1 {
        font-size: 2rem; /* Adjust header text size */
    }
}



    /* Responsive Design */
    @media (max-width: 1200px) {
        .dashboard {
            flex-direction: column;
        }

        .sidebar {
            width: 100%;
            height: auto;
            position: relative;
        }

        .main-content {
            padding: 20px;
        }

        .top-row {
            flex-direction: column;
            gap: 10px;
        }

        .stats-container {
            flex-wrap: wrap;
            gap: 10px;
        }

        .profile-container {
            margin-top: 0;
        }
    }

    @media (max-width: 768px) {
        .sidebar {
            display: none;
        }

        .main-content {
            padding: 15px;
        }

        .stat-card {
            flex: 1 1 100%;
        }

        .profile-container {
            flex: 1 1 100%;
        }

        .content-container {
            flex-direction: column;
        }

        .left-panel, .right-panel {
            flex: 1 1 100%;
        }

        .progress-gallery {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 480px) {
        .header h1 {
            font-size: 20px;
        }

        .btn {
            font-size: 12px;
            padding: 6px 10px;
        }

        .stat-value {
            font-size: 18px;
        }

        .stat-label {
            font-size: 12px;
        }

        .profile-name {
            font-size: 16px;
        }

        .profile-id {
            font-size: 12px;
        }

        .card-header h2 {
            font-size: 16px;
        }

        .filter-select {
            font-size: 12px;
        }

        .time-slot {
            font-size: 12px;
            padding: 8px;
        }
    }
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-tooth"></i> HOLY FAMILY DENTAL CLINIC</h2>
            </div>
            <ul class="sidebar-menu">
                <li><a href="records.html"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="patient-form.html"><i class="fas fa-file-medical"></i> Dental Records</a></li>
                <li><a href="htmls"><i class="fas fa-file"></i> Forms</a></li>
                <li><a href="gallery.html"><i class="fas fa-images"></i>My Gallery</a></li>
                <!-- Add more menu items if needed -->
                <li><a href="landingpage.html"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                <!-- Add Return to Home menu at the bottom any accouantsettings-->
                <div style="position: absolute; bottom: 20px; width: 13%;">
                        <li><a href="landingpage.html"><i class="fas fa-arrow-left"></i> Return to Home</a></li>
                    </ul>
                </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <div class="header">
                <h1>Dashboard</h1>
                <div style="display: flex; align-items: center; gap: 20px;">
                    <!-- New Appointment Button -->
                    <button class="btn btn-outline" id="download-btn" style="margin-right: 10px;">
                        <i class="fas fa-download"></i> Download My Records
                    </button>
                    <div class="theme-toggle">
                        <span class="theme-toggle-label">Dark Mode</span>
                        <label class="switch">
                            <input type="checkbox" id="themeToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Top Row - Stats and Profile -->
            <div class="top-row">
                <!-- Stats Cards -->
                <div class="stats-container">
                    <div class="stat-card" id="clock-card">
                        <div class="clock-container">
                            <!-- Animated clock icon with gradient -->
                            <div class="stat-icon clock-icon">
                                <div class="clock-face">
                                    <div class="clock-hour-hand"></div>
                                    <div class="clock-minute-hand"></div>
                                    <div class="clock-second-hand"></div>
                                </div>
                            </div>
                            
                            <div class="stat-content">
                                <!-- Digital time with glowing effect -->
                                <span class="stat-label">Current Time</span>
                                <span class="stat-value" id="current-time">
                                    <span class="time-part hours"></span>
                                    <span class="time-colon blink">:</span>
                                    <span class="time-part minutes"></span>
                                    <span class="time-colon blink">:</span>
                                    <span class="time-part seconds"></span>
                                    <span class="time-ampm"></span>
                                </span>
                                
                                
                                
                                <!-- Date with calendar icon animation -->
                                <div class="stat-date">
                                    <div class="calendar-icon">
                                        <div class="calendar-top"></div>
                                        <i class="far fa-calendar-alt"></i>
                                    </div>
                                    <span id="current-date"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon upcoming-icon">
                            <i class="fas fa-calendar-plus"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-value">2</span>
                            <span class="stat-label">Upcoming Appointments</span>
                            <div class="stat-date">
                                <i class="far fa-clock"></i>
                                <span>Next: Mar 15, 2024</span>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon upcoming-icon">
                            <i class="fas fa-calendar-plus"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-value">2</span>
                            <span class="stat-label">Upcoming Appointments</span>
                            <div class="stat-date">
                                <i class="far fa-clock"></i>
                                <span>Next: Mar 15, 2024</span>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon upcoming-icon">
                            <i class="fas fa-calendar-plus"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-value">2</span>
                            <span class="stat-label">Upcoming Appointments</span>
                            <div class="stat-date">
                                <i class="far fa-clock"></i>
                                <span>Next: Mar 15, 2024</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Patient Profile Card -->
                <div class="profile-container">
                    <div class="card">
                        <div class="card-header">
                            <h2>Patient Profile</h2>
                            <button class="btn btn-outline" id="editProfileBtn">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                        </div>
                        <div class="profile-card">
                            <img src="g1.jpg" alt="Patient Profile Photo" class="profile-img">
                            <h3 class="profile-name">Sammuel Cabison</h3>
                            <div class="profile-id">Patient ID: HFDC-2023-001
                                <button class="copy-btn" id="copyPatientIdBtn">
                                    <i class="far fa-copy"></i>
                                    <span class="copy-tooltip">Copy to clipboard</span>
                                </button>
                            </div>
                            <div class="profile-details">
                                <!-- Left Column -->
                                <div style="display: flex; flex-direction: column; width: 98%; float: right;">
                                    <div class="profile-row">
                                        <span class="profile-label">Birthdate:</span>
                                        <span class="profile-value">June 15, 1991</span>
                                    </div>
                                    <div class="profile-row">
                                        <span class="profile-label">Age:</span>
                                        <span class="profile-value">32</span>
                                    </div>
                                    <div class="profile-row">
                                        <span class="profile-label">Gender:</span>
                                        <span class="profile-value">Male</span>
                                    </div>
                                </div>

                                <!-- Right Column -->
                                <div style="display: flex; flex-direction: column; width: 98%; float: right;">
                                    <div class="profile-row">
                                        <span class="profile-label">Home Address:</span>
                                        <span class="profile-value">123 Main St, Quezon City</span>
                                    </div>
                                    <div class="profile-row">
                                        <span class="profile-label">Mobile Number:</span>
                                        <span class="profile-value">+63 912 345 6789</span>
                                    </div>
                                    <div class="profile-row">
                                        <span class="profile-label">Email Address:</span>
                                        <span class="profile-value">sammycabisheesh@example.com</span>
                                    </div>
                                </div>

                                <!-- Clear float -->
                                <div style="clear: both;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Container -->
            <div class="content-container">
                <!-- Left Panel - Appointments -->
                <div class="left-panel">
                    <!-- Appointments Card -->
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-calendar-check"></i> Appointments</h2>
                            <div style="display: flex; gap: 30px;">
                                <button class="btn btn-outline" id="undoButton" title="Undo">
                                    <i class="fas fa-undo"></i> Reset Filters
                                </button>
                                <button class="btn btn-outline" id="newAppointmentBtn">
                                    <i class="fas fa-plus"></i> New Appointment
                                </button>
                            </div>
                        </div>
                        <div class="treatment-history-container">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr style="background-color: var(--hover-bg);">
                                        <!-- Date & Time Column -->
                                        <th style="padding: 12px; text-align: left;">
                                            <div class="sortable-header">
                                                <button class="sort-btn" data-sort="date" style="background: none; border: none; cursor: pointer; display: flex; align-items: center; gap: 5px; color: inherit;">
                                                    <span>Date & Time</span>
                                                    <i class="fas fa-sort"></i>
                                                </button>
                                                <div class="filter-dropdown">
                                                    <button class="filter-btn">
                                                        <i class="fas fa-filter"></i>
                                                    </button>
                                                    <div class="dropdown-content">
                                                        <div data-filter="date" data-value="today">Today</div>
                                                        <div data-filter="date" data-value="this-week">This Week</div>
                                                        <div data-filter="date" data-value="last-week">Last Week</div>
                                                        <div data-filter="date" data-value="last-month">Last Month</div>
                                                        <div data-filter="date" data-value="older">Older</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </th>
                                        
                                        <!-- Procedure Column -->
                                        <th style="padding: 12px; text-align: left;">
                                            <div class="filter-header">
                                                <span>Procedure</span>
                                                <div class="filter-dropdown">
                                                    <button class="filter-btn">
                                                        <i class="fas fa-filter"></i>
                                                    </button>
                                                    <div class="dropdown-content">
                                                        <div data-filter="procedure" data-value="all">All Procedures</div>
                                                        <div data-filter="procedure" data-value="Oral Prophylaxis">Oral Prophylaxis</div>
                                                        <div data-filter="procedure" data-value="Topical Fluoride">Topical Fluoride</div>
                                                        <div data-filter="procedure" data-value="Pit and Fissure Sealants">Pit and Fissure Sealants</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </th>
                                        
                                        <!-- Cost Column -->
                                        <th style="padding: 12px; text-align: left; color: white;">
                                            <div class="sortable-header">
                                                <button class="sort-btn" data-sort="cost" data-direction="asc" style="background: none; border: none; cursor: pointer; display: flex; align-items: center; gap: 5px; color: inherit;">
                                                    <span>Cost</span>
                                                    <i class="fas fa-sort"></i>
                                                </button>
                                            </div>
                                        </th>

                                        <th style="padding: 12px; text-align: left;">Dentist</th>
                                        
                                        <!-- Status Column -->
                                        <th style="padding: 12px; text-align: left;">
                                            <div class="filter-header">
                                                <span>Status</span>
                                                <div class="filter-dropdown">
                                                    <button class="filter-btn">
                                                        <i class="fas fa-filter"></i>
                                                    </button>
                                                    <div class="dropdown-content">
                                                        <div data-filter="status" data-value="all">All Status</div>
                                                        <div data-filter="status" data-value="completed">Completed</div>
                                                        <div data-filter="status" data-value="upcoming">Upcoming</div>
                                                        <div data-filter="status" data-value="canceled">Canceled</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </th>
                                        
                                        <th style="padding: 12px; text-align: left;">Actions</th>
                                    </tr>
                                </thead>

                                
                                <tbody>

                                    <tr class="appointment-row" data-id="1" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">January 10, 2024 - 9:00 AM</td>
                                        <td style="padding: 12px;">Topical Fluoride</td>
                                        <td style="padding: 12px;">₱5,000</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="1"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="1"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>
                                    
                                    <tr class="appointment-row" data-id="2" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">October 20, 2023 - 10:30 AM</td>
                                        <td style="padding: 12px;">Oral Prophylaxist</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="2"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="2"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>
                                    
                                    <tr class="appointment-row" data-id="3" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">August 15, 2023 - 2:00 PM</td>
                                        <td style="padding: 12px;">Pit and Fissure Sealants</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="3"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="3"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>
                                    
                                    <tr class="appointment-row" data-id="4" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">July 5, 2023 - 11:00 AM</td>
                                        <td style="padding: 12px;">Topical Fluoride</td>
                                        <td style="padding: 12px;">₱1,200</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="4"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="4"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>
                                    
                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Pit and Fissure Sealants</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>
                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Oral Prophylaxis</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>
                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Oral Prophylaxis</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>

                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Oral Prophylaxis</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>

                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Oral Prophylaxis</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>

                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Oral Prophylaxist</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>

                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Pit and Fissure Sealants</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>

                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var (--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Pit and Fissure Sealants</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>

                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Pit and Fissure Sealants</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>

                                    <tr class="appointment-row" data-id="5" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">June 1, 2023 - 9:30 AM</td>
                                        <td style="padding: 12px;">Pit and Fissure Sealants</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="5"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="5"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>
                                    
                                    <tr class="appointment-row" data-id="6" style="border-bottom: 1px solid var(--border-color);">
                                        <td style="padding: 12px;">April 20, 2023 - 3:00 PM</td>
                                        <td style="padding: 12px;">Pit and Fissure Sealants</td>
                                        <td style="padding: 12px;">₱1,500</td>
                                        <td style="padding: 12px;">Dr. Resurreccion</td>
                                        <td style="padding: 12px;"><span class="status-badge status-completed">Completed</span></td>
                                        <td style="padding: 12px;">
                                            <button class="action-btn view-btn" data-id="6"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn download-btn" data-id="6"><i class="fas fa-download"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Right Panel - Dental Progress -->
                <div class="right-panel">
                    <!-- Dental Progress Card -->
                    <div class="card">
                        <div class="card-header">
                            <h2>Dental Progress</h2>
                            <button class="btn btn-outline" id="viewGalleryBtn">
                                <i class="fas fa-images"></i> View All
                            </button>
                        </div>
                        <div class="progress-gallery">
                            <div class="progress-item">
                                <img src="before.png" alt="Before Treatment">
                                <span class="progress-tag">Before</span>
                            </div>
                            <div class="progress-item">
                                <img src="after.png" alt="After Treatment">
                                <span class="progress-tag">After</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
                                
    
    

<!-- New Appointment Modal -->


    
    
    
            





                                
                                
    



    
    
    <script>
document.addEventListener('DOMContentLoaded', function () {
    const table = document.querySelector('.treatment-history-container table tbody');
    const tableRows = Array.from(table.querySelectorAll('tr.appointment-row'));
    const resetButton = document.getElementById('undoButton');
    const sortButtons = document.querySelectorAll('.sort-btn');
    const filterDropdowns = document.querySelectorAll('.filter-dropdown');

    const originalRowOrder = [...tableRows];

    // 🔁 Reset Button Handler
    resetButton.addEventListener('click', function () {
        // Show all rows
        tableRows.forEach(row => row.style.display = '');
        // Restore original order
        originalRowOrder.forEach(row => table.appendChild(row));

        // Reset sorting
        sortButtons.forEach(button => {
            button.removeAttribute('data-direction');
            button.classList.remove('asc', 'desc', 'active-sort', 'active');
            const sortIcon = button.querySelector('.fa-sort');
            const sortUpIcon = button.querySelector('.fa-sort-up');
            const sortDownIcon = button.querySelector('.fa-sort-down');
            if (sortIcon) sortIcon.style.display = 'inline-block';
            if (sortUpIcon) sortUpIcon.style.display = 'none';
            if (sortDownIcon) sortDownIcon.style.display = 'none';
        });

        // Reset filters
        filterDropdowns.forEach(dropdown => {
            const button = dropdown.querySelector('.filter-btn');
            const items = dropdown.querySelectorAll('.dropdown-content div');
            button.innerHTML = '<i class="fas fa-filter"></i>';
            button.classList.remove('active-filter-btn');
            items.forEach(item => item.classList.remove('active-filter'));
        });

        // Visual feedback
        const originalText = resetButton.innerHTML;
        resetButton.innerHTML = '<i class="fas fa-check"></i> Reset Complete';
        resetButton.style.backgroundColor = '#4CAF50';
        resetButton.style.color = 'white';
        setTimeout(() => {
            resetButton.innerHTML = originalText;
            resetButton.style.backgroundColor = '';
            resetButton.style.color = '';
        }, 2000);
    });

    // 🔍 Sorting Logic
    sortButtons.forEach(button => {
        button.addEventListener('click', function () {
            const sortField = this.getAttribute('data-sort');
            const direction = this.getAttribute('data-direction') === 'asc' ? 'desc' : 'asc';
            this.setAttribute('data-direction', direction);

            tableRows.sort((a, b) => {
                const aVal = a.querySelector(`td:nth-child(${getColumnIndex(sortField)})`).textContent.trim();
                const bVal = b.querySelector(`td:nth-child(${getColumnIndex(sortField)})`).textContent.trim();

                if (sortField === 'cost') {
                    return direction === 'asc'
                        ? parseFloat(aVal.replace(/[^0-9.]/g, '')) - parseFloat(bVal.replace(/[^0-9.]/g, ''))
                        : parseFloat(bVal.replace(/[^0-9.]/g, '')) - parseFloat(aVal.replace(/[^0-9.]/g, ''));
                } else if (sortField === 'date') {
                    return direction === 'asc'
                        ? parseDateTime(aVal) - parseDateTime(bVal)
                        : parseDateTime(bVal) - parseDateTime(aVal);
                } else {
                    return direction === 'asc'
                        ? aVal.localeCompare(bVal)
                        : bVal.localeCompare(aVal);
                }
            });

            tableRows.forEach(row => table.appendChild(row));
        });
    });

    // 🔽 Filter Dropdown Logic
    filterDropdowns.forEach(dropdown => {
        const button = dropdown.querySelector('.filter-btn');
        const items = dropdown.querySelectorAll('.dropdown-content div');

        items.forEach(item => {
            item.addEventListener('click', function () {
                items.forEach(i => i.classList.remove('active-filter'));
                this.classList.add('active-filter');

                const filterField = this.getAttribute('data-filter');
                const filterValue = this.getAttribute('data-value');
                const filterText = this.textContent;

                // Update filter button
                if (filterValue !== 'all') {
                    button.innerHTML = `<span class="filter-label">${filterText}</span><i class="fas fa-caret-down"></i>`;
                    button.classList.add('active-filter-btn');
                } else {
                    button.innerHTML = `<i class="fas fa-filter"></i>`;
                    button.classList.remove('active-filter-btn');
                }

                // Filter rows
                tableRows.forEach(row => {
                    const cellValue = row.querySelector(`td:nth-child(${getColumnIndex(filterField)})`)?.textContent.trim();
                    let showRow = true;

                    if (filterField === 'date') {
                        const now = new Date();
                        const rowDate = parseDateTime(cellValue);
                        const oneWeekAgo = new Date(now);
                        oneWeekAgo.setDate(now.getDate() - 7);
                        const oneMonthAgo = new Date(now);
                        oneMonthAgo.setMonth(now.getMonth() - 1);

                        if (filterValue === 'today') {
                            showRow = isSameDay(rowDate, now);
                        } else if (filterValue === 'this-week') {
                            showRow = rowDate >= oneWeekAgo && rowDate <= now;
                        } else if (filterValue === 'last-week') {
                            const twoWeeksAgo = new Date(now);
                            twoWeeksAgo.setDate(now.getDate() - 14);
                            showRow = rowDate >= twoWeeksAgo && rowDate < oneWeekAgo;
                        } else if (filterValue === 'last-month') {
                            const twoMonthsAgo = new Date(now);
                            twoMonthsAgo.setMonth(now.getMonth() - 2);
                            showRow = rowDate >= twoMonthsAgo && rowDate < oneMonthAgo;
                        } else if (filterValue === 'older') {
                            showRow = rowDate < oneMonthAgo;
                        }
                    } else {
                        showRow = filterValue === 'all' || cellValue?.includes(filterValue);
                    }

                    row.style.display = showRow ? '' : 'none';
                });
            });
        });
    });

    // ⏰ Clock Updater
    function updateClock() {
        const now = new Date();
        let hours = now.getHours();
        const ampm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12 || 12;
        const minutes = now.getMinutes().toString().padStart(2, '0');
        const seconds = now.getSeconds().toString().padStart(2, '0');

        document.querySelector('.hours').textContent = hours;
        document.querySelector('.minutes').textContent = minutes;
        document.querySelector('.seconds').textContent = seconds;
        document.querySelector('.time-ampm').textContent = ampm;

        const hourHand = document.querySelector('.clock-hour-hand');
        const minuteHand = document.querySelector('.clock-minute-hand');
        const secondHand = document.querySelector('.clock-second-hand');
        hourHand.style.transform = `rotate(${(hours * 30) + (now.getMinutes() * 0.5)}deg)`;
        minuteHand.style.transform = `rotate(${now.getMinutes() * 6}deg)`;
        secondHand.style.transform = `rotate(${now.getSeconds() * 6}deg)`;
    }

    updateClock();
    setInterval(updateClock, 1000);


    

    // Helper function to get column index
    function getColumnIndex(field) {
        switch (field) {
            case 'date': return 1;
            case 'procedure': return 2;
            case 'cost': return 3;
            case 'dentist': return 4;
            case 'status': return 5;
            default: return 1;
        }
    }

    // Helper function to parse date and time
    function parseDateTime(dateTimeString) {
        const [datePart, timePart] = dateTimeString.split(' - ');
        return new Date(`${datePart} ${timePart}`);
    }

    // Helper function to check if two dates are on the same day
    function isSameDay(date1, date2) {
        return (
            date1.getFullYear() === date2.getFullYear() &&
            date1.getMonth() === date2.getMonth() &&
            date1.getDate() === date2.getDate()
        );
    }
});











// Modal functionality for appointment details
document.addEventListener('DOMContentLoaded', function () {
        const rows = document.querySelectorAll('.appointment-row');
        const viewButtons = document.querySelectorAll('.view-btn');
        const appointmentModal = document.getElementById('appointmentModal');
        const closeModal = appointmentModal.querySelector('.close-modal');

        // Sample appointment data (in a real app, this would come from a database)
        const appointments = {
            1: {
                date: "January 10, 2024 - 9:00 AM",
                procedure: "Topical Fluoride",
                cost: "₱5,000",
                dentist: "Dr. Resurreccion",
                status: "completed",
                duration: "45 minutes",
                notes: "Patient showed good response to treatment. Recommended follow-up in 6 months.",
                procedureDesc: "Topical fluoride treatment involves applying fluoride directly to the teeth to strengthen enamel and prevent decay.",
                teethTreated: "All teeth surfaces",
                materials: "Fluoride varnish (5% sodium fluoride)",
                aftercare: "Avoid eating or drinking for 30 minutes after treatment. Brush gently for the rest of the day.",
                photos: ["before.png", "after.png"]
            }
            // Add more appointment data as needed
        };

        // Function to open the modal
        function openModal(appointmentId) {
            const appointment = appointments[appointmentId];
            if (appointment) {
                // ...existing code to populate modal content...
                appointmentModal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
        }

        // Add click event to rows
        rows.forEach(row => {
            row.addEventListener('click', function (event) {
                // Prevent triggering the modal if a button inside the row is clicked
                if (event.target.closest('.action-btn')) return;

                const appointmentId = this.getAttribute('data-id');
                openModal(appointmentId);
            });
        });

        // Add click event to view buttons
        viewButtons.forEach(button => {
            button.addEventListener('click', function (event) {
                event.stopPropagation(); // Prevent row click event
                const appointmentId = this.getAttribute('data-id');
                openModal(appointmentId);
            });
        });

        // Close modal
        closeModal.addEventListener('click', function () {
    newAppointmentModal.style.display = 'none';
    document.body.style.overflow = 'auto';
    resetModal();
});

window.addEventListener('click', function (event) {
    if (event.target === newAppointmentModal) {
        newAppointmentModal.style.display = 'none';
        document.body.style.overflow = 'auto';
        resetModal();
    }
});
    });







    document.addEventListener('DOMContentLoaded', function () {
        const tableRows = document.querySelectorAll('.appointment-row');
        const statusFilters = document.querySelectorAll('[data-filter="status"]');

        statusFilters.forEach(filter => {
            filter.addEventListener('click', function () {
                const filterValue = this.getAttribute('data-value');

                tableRows.forEach(row => {
                    const statusCell = row.querySelector('td:nth-child(5) .status-badge');
                    const statusText = statusCell ? statusCell.textContent.toLowerCase() : '';

                    if (filterValue === 'all' || statusText.includes(filterValue)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            });
        });
    });







    // New Appointment Modal Functionality
document.addEventListener('DOMContentLoaded', function() {
    const newAppointmentBtn = document.getElementById('newAppointmentBtn');
    const newAppointmentModal = document.getElementById('newAppointmentModal');
    const closeModal = newAppointmentModal.querySelector('.close-modal');
    

    function resetAppointmentModal() {
    // Reset selections
    selectedDate = null;
    selectedTime = null;

    // Reset UI elements
    document.querySelectorAll('.calendar-date.selected').forEach(el => el.classList.remove('selected'));
    document.querySelectorAll('.time-slot.active').forEach(el => el.classList.remove('active'));
    procedureSelect.value = '';
    notesInput.value = '';

    // Reset step navigation
    goToStep(0);

    // Reset confirmation display
    confirmDate.textContent = 'No date selected';
    confirmTime.textContent = 'No time selected';
    confirmProcedure.textContent = 'No procedure selected';
    confirmNotes.textContent = 'No notes provided';
}
    
    // Close modal handlers
    closeModal.addEventListener('click', function() {
        newAppointmentModal.style.display = 'none';
        document.body.style.overflow = 'auto';
        resetAppointmentModal();
    });
    
    window.addEventListener('click', function(event) {
        if (event.target === newAppointmentModal) {
            newAppointmentModal.style.display = 'none';
            document.body.style.overflow = 'auto';
            resetAppointmentModal();
        }
    });


    // Open modal when New Appointment button is clicked
    newAppointmentBtn.addEventListener('click', function () {
    newAppointmentModal.style.display = 'block';
    document.body.style.overflow = 'hidden';
    resetModal();
    initializeCalendar();
});
    
    // Close modal when X is clicked
    closeModal.addEventListener('click', function() {
        newAppointmentModal.style.display = 'none';
        document.body.style.overflow = 'auto';
    });
    
    // Close modal when clicking outside
    window.addEventListener('click', function(event) {
        if (event.target === newAppointmentModal) {
            newAppointmentModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
    });
    
    // Time slot selection
    const timeSlots = newAppointmentModal.querySelectorAll('.btn-outline');
    timeSlots.forEach(slot => {
        slot.addEventListener('click', function() {
            // Remove active class from all slots
            timeSlots.forEach(s => s.classList.remove('active-time'));
            
            // Add active class to selected slot
            this.classList.add('active-time');
            
            // Update selected time display
            const selectedTimeDisplay = newAppointmentModal.querySelector('.modal-footer + div span:nth-child(2)');
            selectedTimeDisplay.textContent = this.textContent;
        });
    });
    
    // Calendar navigation (simple example)
    const prevMonthBtn = newAppointmentModal.querySelector('.btn-outline:nth-of-type(1)');
    const nextMonthBtn = newAppointmentModal.querySelector('.btn-outline:nth-of-type(2)');
    const monthDisplay = newAppointmentModal.querySelector('span:nth-of-type(1)');
    
    // These would be more complex in a real implementation
    prevMonthBtn.addEventListener('click', function() {
        // In a real app, this would change the calendar view
        console.log('Previous month clicked');
    });
    
    nextMonthBtn.addEventListener('click', function() {
        // In a real app, this would change the calendar view
        console.log('Next month clicked');
    });
    
    // Date selection
    const dateCells = newAppointmentModal.querySelectorAll('[style*="grid-template-columns"] > div');
    dateCells.forEach(cell => {
        if (!isNaN(cell.textContent)) { // Only number cells
            cell.addEventListener('click', function() {
                // Remove highlight from all dates
                dateCells.forEach(d => {
                    d.style.backgroundColor = '';
                    d.style.color = '';
                    d.style.borderRadius = '';
                });
                
                // Highlight selected date
                this.style.backgroundColor = 'var(--sidebar-active)';
                this.style.color = 'white';
                this.style.borderRadius = '50%';
                
                // Update selected date display
                const selectedDateDisplay = newAppointmentModal.querySelector('.modal-footer div span:nth-child(1)');
                const monthYear = monthDisplay.textContent.split(' ');
                selectedDateDisplay.textContent = `${monthYear[0]} ${this.textContent}, ${monthYear[1]}`;
            });
        }
    });
});







    </script>





<!-- New Appointment Modal -->
<div id="newAppointmentModal" class="modal">
    <div class="modal-content" style="max-width: 700px; padding: 0; overflow: hidden;">
        <!-- Compact Header -->
        <div style="position: relative; padding: 15px 20px; background: linear-gradient(135deg, var(--sidebar-active), #005e9950); color: white; display: flex; align-items: center; gap: 15px;">
            <h2 style="margin: 0; font-size: 28px; font-family: 'Times New Roman', serif; line-height: 1; color: #0d4f83;">
                HOLY FAMILY DENTAL CLINIC
            </h2>
            <span class="close-modal" style="position: absolute; top: 10px; right: 15px; color: #003366; font-size: 24px;">&times;</span>
        </div>

        <!-- Progress Indicator -->
        <div class="progress-indicator">
            <div class="progress-step active">
                <div class="circle">1</div>
                <span>Select Date & Time</span>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step">
                <div class="circle">2</div>
                <span>Procedure & Notes</span>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step">
                <div class="circle">3</div>
                <span>Confirmation</span>
            </div>
        </div>

        <div class="modal-body" style="padding: 0 20px 20px;">
            <!-- Step 1: Date & Time Selection -->
<div class="appointment-step active" id="step-date-time">
    <h2><i class="fas fa-calendar-alt"></i> Select Date & Time <span class="required-field"></span></h2>
    <div class="date-time-container">
        <!-- Calendar Section -->
        <div class="calendar-container">
            <div id="calendar-header">
                <button class="month-nav" id="prev-month"><i class="fas fa-chevron-left"></i></button>
                <h3 id="current-month"></h3>
                <button class="month-nav" id="next-month"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div id="calendar-days">
                <div class="day-header">Sun</div>
                <div class="day-header">Mon</div>
                <div class="day-header">Tue</div>
                <div class="day-header">Wed</div>
                <div class="day-header">Thu</div>
                <div class="day-header">Fri</div>
                <div class="day-header">Sat</div>
            </div>
            <div id="calendar-dates"></div>
        </div>

        <!-- Time Slots Section -->
        <div class="time-slots-container">
            <h3 class="time-slots-title"><i class="far fa-clock"></i> Select Time</h3>
            <div class="time-slots">
                <button class="time-slot">9:00 AM</button>
                <button class="time-slot">10:00 AM</button>
                <button class="time-slot">11:00 AM</button>
                <button class="time-slot">1:00 PM</button>
                <button class="time-slot">2:00 PM</button>
                <button class="time-slot">3:00 PM</button>
            </div>
        </div>
    </div>
    <div class="selected-date-display">
        <i class="far fa-calendar-alt"></i>
        <span id="selected-date-text">No date selected</span>
    </div>
    <div class="selected-time-display">
        <i class="far fa-clock"></i>
        <span id="selected-time-text">No time selected</span>
    </div>
</div>


            <!-- Step 2: Procedure & Notes -->
            <div class="appointment-step" id="step-procedure">
                <h2><i class="fas fa-stethoscope"></i> Procedure & Notes <span class="required-field"></span></h2>
                <div class="detail-item">
                    <span class="detail-label">Procedure:</span>
                    <select class="procedure-select" id="procedure-select" required>
                        <option value="" selected disabled>Select Procedure</option>
                        <option value="Oral Prophylaxis">Oral Prophylaxis (Cleaning)</option>
                        <option value="Topical Fluoride">Topical Fluoride Treatment</option>
                        <option value="Pit and Fissure Sealants">Pit and Fissure Sealants</option>
                        <option value="Consultation">Consultation</option>
                    </select>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Notes:</span>
                    <textarea id="appointment-notes" placeholder="Any special requests or concerns..."></textarea>
                </div>
            </div>

            <!-- Step 3: Confirmation -->
            <div class="appointment-step" id="step-confirm">
                <h2><i class="fas fa-check-circle"></i> Confirm Appointment</h2>
                <div class="confirmation-details">
                    <div class="detail-item">
                        <span class="detail-label">Date:</span>
                        <span class="detail-value" id="confirm-date">-</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Time:</span>
                        <span class="detail-value" id="confirm-time">-</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Procedure:</span>
                        <span class="detail-value" id="confirm-procedure">-</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Notes:</span>
                        <span class="detail-value" id="confirm-notes">-</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="step-navigation">
            <button class="step-button prev" id="prev-step-btn" disabled>
                <i class="fas fa-arrow-left"></i> Previous
            </button>
            <button class="step-button next" id="next-step-btn">
                Next <i class="fas fa-arrow-right"></i>
            </button>
            <button class="step-button next" id="confirm-appointment-btn" style="display: none;">
                <i class="fas fa-calendar-check"></i> Confirm Appointment
            </button>
        </div>
    </div>
</div>

<style>
    /* New Appointment Modal Styles */
    #newAppointmentModal .modal-content {
        max-width: 900px; /* Increased width */
    border-radius: 15px;
    background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(240,248,255,0.95) 100%);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    overflow: hidden;
}

    
    #newAppointmentModal h2 {
        color: var(--sidebar-active);
        margin: 15px 0 10px 0;
        font-size: 22px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    #newAppointmentModal .step-description {
        color: var(--text-muted);
        margin: 0 0 20px 0;
        font-size: 14px;
    }
    
    /* Progress Indicator */
    .progress-indicator {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        margin: 15px 0;
        position: relative;
        padding: 0 20px;
    }
    
    .progress-step {
        display: flex;
        flex-direction: column;
        align-items: center;
        z-index: 1;
    }
    
    .progress-step .circle {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: #e0e0e0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: #fff;
        margin-bottom: 5px;
        transition: all 0.3s ease;
    }
    
    .progress-step.active .circle {
        background-color: var(--sidebar-active);
        background-color: var(--sidebar-active);
        box-shadow: 0 0 0 5px rgba(0, 191, 255, 0.2);
    }
    
    .progress-step span {
        font-size: 12px;
        color: var(--text-muted);
        text-align: center;
        transition: all 0.3s ease;
    }
    
    .progress-step.active span {
        color: var(--sidebar-active);
        font-weight: 500;
    }
    
    .progress-line {
        flex: 1;
        height: 2px;
        background-color: #e0e0e0;
        position: relative;
        top: -8px;
    }
    

    /* Date & Time Container */
.date-time-container {
    display: flex;
    gap: 20px;
    margin-top: 20px;
}



    /* Calendar Styles */
    .calendar-container {
        flex: 1;
    background-color: white;
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }
    
    #calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }
    
    .month-nav {
        background: none;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        padding: 8px 12px;
        color: var(--text-color);
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .month-nav:hover {
        background-color: rgba(0, 191, 255, 0.1);
        border-color: var(--sidebar-active);
    }
    
    #current-month {
        font-weight: 600;
        color: var(--text-color);
        margin: 0;
        font-size: 16px;
    }
    
    #calendar-days {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 8px;
        text-align: center;
        margin-bottom: 10px;
    }
    
    .day-header {
        font-weight: 600;
        color: #7a8ba9;
        font-size: 13px;
        padding: 5px;
    }
    
    #calendar-dates {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 8px;
        text-align: center;
    }
    
    .calendar-date {
        padding: 10px;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
        color: var(--text-color);
        background-color: transparent;
        position: relative;
        height: 36px;
        width: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        font-size: 14px;
    }
    
    .calendar-date:hover:not(.disabled-date):not(.today):not(.selected) {
        background-color: #f0f8ff;
    }
    
    .calendar-date.disabled-date {
        color: #ccc;
        cursor: not-allowed;
        pointer-events: none;
    }
    
    .calendar-date.today {
        background-color: rgba(0, 191, 255, 0.2);
        color: var(--sidebar-active);;
        font-weight: bold;
    }
    
    .calendar-date.selected {
        background-color: var(--sidebar-active);
        color: white;
        font-weight: bold;
    }
    
    .calendar-date.other-month {
        opacity: 0.5;
    }
    
    /* Selected Date Display */
    .selected-date-display, .selected-time-display {
        font-weight: 600;
        margin: 15px 0;
        color: var(--text-color);
        text-align: center;
        padding: 12px;
        background-color: rgba(0, 191, 255, 0.1);
        border-radius: 8px;
        font-size: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }
    
    .selected-date-display i, .selected-time-display i {
        color: var(--sidebar-active);
    }
    
    /* Time Slots */
    .time-slots-container {
        flex: 1;
    display: flex;
    flex-direction: column;
    gap: 15px;
    background-color: white;
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}


.time-slots-title {
    font-size: 18px;
    font-weight: bold;
    color: var (--text-color);
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.time-slots {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
}

.time-slot {
    padding: 12px;
    border: 1px solid var(--border-color);
    background-color: var(--card-bg);
    color: var(--text-color);
    border-radius: 8px;
    cursor: pointer;
    text-align: center;
    transition: all 0.3s ease;
    font-size: 14px;
}

.time-slot:hover:not(.unavailable):not(.active) {
    background-color: #f0f8ff;
    border-color: var(--sidebar-active);
}

.time-slot.active {
    background-color: var(--sidebar-active);
    color: white;
    border-color: var(--sidebar-active);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 191, 255, 0.2);
}
    
    .time-slot.unavailable {
        background-color: #f5f5f5;
        color: #999;
        cursor: not-allowed;
        text-decoration: line-through;
        position: relative;
    }
    
    .time-slot.unavailable::after {
        content: "Unavailable";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 10px;
        color: #ff5555;
        text-decoration: none;
    }
    
    /* Confirmation Step */
    .confirmation-details {
        background-color: rgba(0, 191, 255, 0.05);
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid var(--sidebar-active);
        margin: 20px 0;
    }
    
    .detail-item {
        margin-bottom: 15px;
        display: flex;
        align-items: flex-start;
    }
    
    .detail-item:last-child {
        margin-bottom: 0;
    }
    
    .detail-label {
        font-weight: 600;
        color: var(--text-color);
        width: 100px;
        flex-shrink: 0;
        font-size: 14px;
    }
    
    .detail-value {
        flex: 1;
        color: var(--text-color);
        font-size: 14px;
    }
    
    .procedure-select, #other-procedure {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        background-color: white;
        color: var(--text-color);
        font-size: 14px;
    }
    
    #appointment-notes {
        width: 100%;
        padding: 10px;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        min-height: 80px;
        font-size: 14px;
        resize: vertical;
    }
    
    /* Modal Footer Buttons */
    .modal-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 20px;
        margin-top: 10px;
        background-color: rgba(0, 191, 255, 0.05);
        border-top: 1px solid rgba(0, 191, 255, 0.2);
    }
    
    #prev-step-btn, #next-step-btn {
        transition: all 0.3s ease;
    }
    
    #prev-step-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
    
    .btn-success {
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .btn-success:hover {
        background-color: #3e8e41;
        box-shadow: 0 4px 8px rgba(76, 175, 80, 0.2);
    }
    
    /* Step Transitions */
    .appointment-step {
        display: none;
        animation: fadeIn 0.5s ease;
    }
    
    .appointment-step.active {
        display: block;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    

    .time-slot.unavailable {
    background-color: #f5f5f5;
    color: #999;
    cursor: not-allowed;
    position: relative;
    opacity: 0.7;
}




</style>






<script>
    document.addEventListener('DOMContentLoaded', function() {
    // New Appointment Modal Functionality
    const newAppointmentBtn = document.getElementById('newAppointmentBtn');
    const newAppointmentModal = document.getElementById('newAppointmentModal');
    const closeModal = newAppointmentModal.querySelector('.close-modal');
    const prevStepBtn = document.getElementById('prev-step-btn');
    const nextStepBtn = document.getElementById('next-step-btn');
    const confirmBtn = document.getElementById('confirm-appointment-btn');
    const steps = document.querySelectorAll('.appointment-step');
    const progressSteps = document.querySelectorAll('.progress-step');
    const procedureSelect = document.getElementById('procedure-select');
    const notesInput = document.getElementById('appointment-notes');
    const confirmDate = document.getElementById('confirm-date');
    const confirmTime = document.getElementById('confirm-time');
    const confirmProcedure = document.getElementById('confirm-procedure');
    const confirmNotes = document.getElementById('confirm-notes');
    const selectedDateText = document.getElementById('selected-date-text');
    const selectedTimeText = document.getElementById('selected-time-text');
    const calendarDates = document.getElementById('calendar-dates');
    const currentMonthDisplay = document.getElementById('current-month');
    const prevMonthBtn = document.getElementById('prev-month');
    const nextMonthBtn = document.getElementById('next-month');
    const timeSlots = document.querySelectorAll('.time-slot');
    
    let currentMonth = new Date().getMonth();
    let currentYear = new Date().getFullYear();
    let selectedDate = null;
    let selectedTime = null;
    let currentStep = 0;

    // Initialize calendar
    function initializeCalendar() {
        generateCalendar(currentMonth, currentYear);
    }

    function generateCalendar(month, year) {
        calendarDates.innerHTML = '';
        const firstDay = new Date(year, month, 1).getDay();
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const today = new Date();
        today.setHours(0, 0, 0, 0); // Reset time part for comparison

        currentMonthDisplay.textContent = new Date(year, month).toLocaleDateString('en-US', {
            month: 'long',
            year: 'numeric'
        });

        // Add empty cells for days before the first day of the month
        for (let i = 0; i < firstDay; i++) {
            const emptyCell = document.createElement('div');
            emptyCell.classList.add('calendar-date', 'other-month');
            calendarDates.appendChild(emptyCell);
        }

        // Add cells for each day of the month
        for (let day = 1; day <= daysInMonth; day++) {
            const dateCell = document.createElement('div');
            dateCell.classList.add('calendar-date');
            dateCell.textContent = day;

            const cellDate = new Date(year, month, day);
            cellDate.setHours(0, 0, 0, 0); // Reset time part for comparison

            // Only disable dates before today
            if (cellDate < today) {
                dateCell.classList.add('disabled-date');
            } else if (cellDate.toDateString() === today.toDateString()) {
                dateCell.classList.add('today');
            }

            dateCell.addEventListener('click', function() {
                if (!this.classList.contains('disabled-date')) {
                    document.querySelectorAll('.calendar-date').forEach(d => d.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    const day = parseInt(this.textContent);
                    selectedDate = new Date(currentYear, currentMonth, day);
                    
                    selectedDateText.textContent = selectedDate.toLocaleDateString('en-US', {
                        weekday: 'long',
                        month: 'long',
                        day: 'numeric',
                        year: 'numeric'
                    });

                    // Update time slot availability when date is selected
                    updateTimeSlotsAvailability(selectedDate);
                }
            });

            calendarDates.appendChild(dateCell);
        }
    }

    // Update time slot availability based on selected date
    function updateTimeSlotsAvailability(selectedDate) {
    const now = new Date();
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    
    // Get all existing appointments
    const existingAppointments = Array.from(document.querySelectorAll('.appointment-row')).map(row => {
        const dateTimeText = row.querySelector('td:nth-child(1)').textContent;
        const [datePart, timePart] = dateTimeText.split(' - ');
        return {
            date: new Date(datePart + ' ' + timePart),
            time: timePart
        };
    });
        
        // Reset all time slots
        timeSlots.forEach(slot => {
            slot.classList.remove('unavailable');
            slot.disabled = false;
            slot.title = ''; // Reset tooltip
        });

        // Check if selected date is today
    const isToday = selectedDate.toDateString() === today.toDateString();

timeSlots.forEach(slot => {
    const slotTime = slot.textContent;
    const [time, period] = slotTime.split(' ');
    let [hours, minutes] = time.split(':').map(Number);
    
    // Convert to 24-hour format
    if (period === 'PM' && hours !== 12) {
        hours += 12;
    } else if (period === 'AM' && hours === 12) {
        hours = 0;
    }
    
    // Create a Date object for the time slot
    const slotDateTime = new Date(selectedDate);
    slotDateTime.setHours(hours, minutes, 0, 0);
    
    // Check for past time (only if date is today)
    if (isToday && slotDateTime < now) {
        slot.classList.add('unavailable');
        slot.disabled = true;
        slot.title = '';
        return;
    }
    
    // Check for booked slots
    const isBooked = existingAppointments.some(appt => {
        return appt.date.toDateString() === selectedDate.toDateString() && 
               appt.timeString === slotTime;
    });
    
    if (isBooked) {
        slot.classList.add('unavailable');
        slot.disabled = true;
        slot.title = 'Booked Slot'; // Tooltip for booked slot
    }
});

            
            // Disable if time slot is already booked today
            const dateKey = selectedDate.toDateString();
    existingAppointments.forEach(appt => {
        if (appt.date.toDateString() === dateKey) {
            timeSlots.forEach(slot => {
                if (slot.textContent === appt.time) {
                    slot.classList.add('unavailable');
                    slot.disabled = true;
                    slot.title = 'Booked Slot'; // Tooltip for booked slot
                }
            });
        }
    });
}

    // Validate before proceeding to next step
    function validateCurrentStep() {
        if (currentStep === 0) { // Date & Time step
            if (!selectedDate) {
                showWarning('Please select a date for your appointment.');
                return false;
            }

            if (!selectedTime) {
                showWarning('Please select a time slot for your appointment.');
                return false;
            }

            // Additional check for past times
            const now = new Date();
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            if (selectedDate.toDateString() === today.toDateString()) {
                const selectedSlot = document.querySelector('.time-slot.active');
                if (selectedSlot && selectedSlot.classList.contains('unavailable')) {
                    showWarning('The selected time slot is no longer available. Please choose another time.');
                    return false;
                }
            }
            
            return true;
        } else if (currentStep === 1) { // Procedure step
            if (!procedureSelect.value) {
                showWarning('Please select a procedure for your appointment.');
                return false;
            }
            return true;
        }
        return true;
    }

    // Navigate between steps
    function goToStep(stepIndex) {
        // Validate current step before proceeding
        if (stepIndex > currentStep && !validateCurrentStep()) {
            return;
        }

        // Hide current step
        steps[currentStep].classList.remove('active');
        progressSteps[currentStep].classList.remove('active');
        
        // Show new step
        steps[stepIndex].classList.add('active');
        progressSteps[stepIndex].classList.add('active');
        currentStep = stepIndex;

        // Update button states
        prevStepBtn.disabled = currentStep === 0;
        nextStepBtn.style.display = currentStep === steps.length - 1 ? 'none' : 'inline-flex';
        confirmBtn.style.display = currentStep === steps.length - 1 ? 'inline-flex' : 'none';

        // Update confirmation details if we're on the last step
        if (currentStep === steps.length - 1) {
            confirmDate.textContent = selectedDate 
                ? selectedDate.toLocaleDateString('en-US', {
                    weekday: 'long', 
                    month: 'long', 
                    day: 'numeric', 
                    year: 'numeric'
                }) 
                : 'No date selected';
                
            confirmTime.textContent = selectedTime || 'No time selected';
            confirmProcedure.textContent = procedureSelect.value || 'No procedure selected';
            confirmNotes.textContent = notesInput.value || 'No notes provided';
        }
    }

    // Next button handler
    nextStepBtn.addEventListener('click', function() {
        goToStep(currentStep + 1);
    });

    // Previous button handler
    prevStepBtn.addEventListener('click', function() {
        if (currentStep > 0) {
            goToStep(currentStep - 1);
        }
    });

    // Confirm button handler
    confirmBtn.addEventListener('click', function() {
        // Create new appointment
        const newAppointment = {
            date: selectedDate.toLocaleDateString('en-US', { 
                month: 'long', 
                day: 'numeric', 
                year: 'numeric' 
            }) + ' - ' + selectedTime,
            procedure: procedureSelect.value,
            cost: '₱1,500', // Default cost for demo
            dentist: 'Dr. Resurreccion', // Default dentist for demo
            status: 'Upcoming'
        };

        // Add to appointments table
        addAppointmentToTable(newAppointment);
        
        // Show confirmation message
        showConfirmation('Appointment booked successfully!');
        
        // Close and reset modal
        closeAndResetModal();
    });

    // Add appointment to table
    function addAppointmentToTable(appointment) {
        const tableBody = document.querySelector('.treatment-history-container table tbody');
        const newRow = document.createElement('tr');
        newRow.classList.add('appointment-row');
        newRow.dataset.id = Date.now(); // Unique ID
        
        newRow.innerHTML = `
            <td>${appointment.date}</td>
            <td>${appointment.procedure}</td>
            <td>${appointment.cost}</td>
            <td>${appointment.dentist}</td>
            <td><span class="status-badge status-upcoming">${appointment.status}</span></td>
            <td>
                <button class="action-btn view-btn" data-id="${newRow.dataset.id}"><i class="fas fa-eye"></i></button>
                <button class="action-btn download-btn" data-id="${newRow.dataset.id}"><i class="fas fa-download"></i></button>
            </td>
        `;
        
        // Add to top of table
    tableBody.insertBefore(newRow, tableBody.firstChild);
    
    // Update time slots availability if viewing the same date
    if (selectedDate) {
        updateTimeSlotsAvailability(selectedDate);
    }
}

    // Time slot selection
    timeSlots.forEach(slot => {
        slot.addEventListener('click', function() {
            if (this.classList.contains('unavailable')) return;
            
            timeSlots.forEach(s => s.classList.remove('active'));
            this.classList.add('active');
            selectedTime = this.textContent;
            selectedTimeText.textContent = selectedTime;
        });
    });

    // Month navigation
    prevMonthBtn.addEventListener('click', function() {
        currentMonth--;
        if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
        }
        generateCalendar(currentMonth, currentYear);
    });

    nextMonthBtn.addEventListener('click', function() {
        currentMonth++;
        if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
        }
        generateCalendar(currentMonth, currentYear);
    });

    // Close and reset modal
    function closeAndResetModal() {
        newAppointmentModal.style.display = 'none';
        document.body.style.overflow = 'auto';
        
        // Reset form
        selectedDate = null;
        selectedTime = null;
        procedureSelect.value = '';
        notesInput.value = '';
        
        // Reset UI
        document.querySelectorAll('.calendar-date.selected').forEach(el => el.classList.remove('selected'));
        timeSlots.forEach(slot => slot.classList.remove('active'));
        selectedDateText.textContent = 'No date selected';
        selectedTimeText.textContent = 'No time selected';
        
        // Reset to first step
        goToStep(0);
    }

    // Open modal
    newAppointmentBtn.addEventListener('click', function() {
        newAppointmentModal.style.display = 'block';
        document.body.style.overflow = 'hidden';
        initializeCalendar();
        
        // Reset selected date and time
        selectedDate = null;
        selectedTime = null;
        document.querySelectorAll('.calendar-date.selected').forEach(el => el.classList.remove('selected'));
        document.querySelectorAll('.time-slot.active').forEach(el => el.classList.remove('active'));
        selectedDateText.textContent = 'No date selected';
        selectedTimeText.textContent = 'No time selected';
        
        // Enable all time slots initially
        timeSlots.forEach(slot => {
            slot.classList.remove('unavailable');
            slot.disabled = false;
        });
    });

    // Close modal
    closeModal.addEventListener('click', closeAndResetModal);
    
    window.addEventListener('click', function(event) {
        if (event.target === newAppointmentModal) {
            closeAndResetModal();
        }
    });

    // Initialize calendar on load
    initializeCalendar();
});

// Show warning modal
function showWarning(message) {
    const warningModal = document.getElementById('warningModal');
    const warningMessage = document.getElementById('warningMessage');
    const warningOkBtn = document.getElementById('warningOkBtn');

    warningMessage.textContent = message;
    warningModal.style.display = 'block';
    document.body.style.overflow = 'hidden';

    // Close modal on OK button click
    warningOkBtn.addEventListener('click', function() {
        warningModal.style.display = 'none';
        document.body.style.overflow = 'auto';
    });

    // Close modal on close button click
    warningModal.querySelector('.close-modal').addEventListener('click', function() {
        warningModal.style.display = 'none';
        document.body.style.overflow = 'auto';
    });

    // Close modal when clicking outside the modal content
    window.addEventListener('click', function(event) {
        if (event.target === warningModal) {
            warningModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
    });
}

// Show success message
function showConfirmation(message) {
    const confirmationModal = document.getElementById('confirmationModal');
    const confirmationMessage = document.getElementById('confirmationMessage');
    const confirmationOkBtn = document.getElementById('confirmationOkBtn');

    confirmationMessage.textContent = message;
    confirmationModal.style.display = 'block';
    document.body.style.overflow = 'hidden';

    // Close modal on OK button click
    confirmationOkBtn.addEventListener('click', function() {
        confirmationModal.style.display = 'none';
        document.body.style.overflow = 'auto';
    });

    // Close modal on close button click
    confirmationModal.querySelector('.close-modal').addEventListener('click', function() {
        confirmationModal.style.display = 'none';
        document.body.style.overflow = 'auto';
    });

    // Close modal when clicking outside the modal content
    window.addEventListener('click', function(event) {
        if (event.target === confirmationModal) {
            confirmationModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
    });
}
</script>





<!-- Warning Modal -->
<div id="warningModal" class="modal">
    <div class="modal-content" style="max-width: 400px; text-align: center;">
        <span class="close-modal">&times;</span>
        <h3 style="color: #ff5555; font-size: 20px; margin-bottom: 15px;">
            <i class="fas fa-exclamation-circle"></i> Warning
        </h3>
        <p id="warningMessage" style="color: #333; font-size: 16px; margin-bottom: 20px;">This is a warning message.</p>
        <button class="btn btn-primary" id="warningOkBtn">OK</button>
    </div>
</div>





<!-- Booking Confirmation Modal -->
<div id="confirmationModal" class="modal">
    <div class="modal-content" style="max-width: 400px; text-align: center;">
        <span class="close-modal">&times;</span>
        <h3 style="color: #4CAF50; font-size: 20px; margin-bottom: 15px;">
            <i class="fas fa-check-circle"></i> Appointment Confirmed
        </h3>
        <!-- Animated Checkmark -->
        <div class="checkmark-container">
            <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none" />
                <path class="checkmark-check" fill="none" d="M14 27l10 10 14-20" />
            </svg>
        </div>
        <p id="confirmationMessage" style="color: #333; font-size: 16px; margin-bottom: 20px;">
            Your appointment has been successfully booked!
        </p>
        <button class="btn btn-primary" id="confirmationOkBtn">OK</button>
    </div>
</div>

















<style>
/* Warning Modal Styles */
#warningModal .modal-content {
    background: white;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    animation: slideUp 0.4s ease-out forwards;
    transform: translateY(20px);
    opacity: 0;
    max-width: 400px;
    text-align: center;
    position: relative;
    margin-left: -12%;
    top: 40%;
    transform: translateY(-50%);
}

@keyframes slideUp {
    from {
        transform: translateY(20px) translateY(-50%);
        opacity: 0;
    }
    to {
        transform: translateY(0) translateY(-50%);
        opacity: 1;
    }
}

#warningModal .close-modal {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 20px;
    color: #999;
    cursor: pointer;
    transition: color 0.3s;
}

#warningModal .close-modal:hover {
    color: #ff5555;
}

#warningModal h3 {
    color: #ff5555;
    font-size: 20px;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

#warningMessage {
    color: #333;
    font-size: 16px;
    margin-bottom: 20px;
}

#warningOkBtn {
    background-color: #ff5555;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 14px;
}

#warningOkBtn:hover {
    background-color: #e04444;
    box-shadow: 0 4px 8px rgba(255, 85, 85, 0.2);
}

#warningModal .btn-primary {
    background-color: #ff5555;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
}

#warningModal .btn-primary:hover {
    background-color: #e04444;
    box-shadow: 0 4px 8px rgba(255, 85, 85, 0.2);
}



/* Enhance buttons in the New Appointment modal */
.step-button {
    background-color: var(--sidebar-active);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.step-button:hover {
    background-color: #009acd;
    box-shadow: 0 4px 8px rgba(0, 191, 255, 0.2);
    transform: translateY(-2px);
}

.step-button:disabled {
    background-color: #ccc;
    color: #666;
    cursor: not-allowed;
}

.step-button.prev {
    background-color: #f5f5f5;
    color: var(--text-color);
    border: 1px solid var(--border-color);
}

.step-button.prev:hover {
    background-color: #e0e0e0;
    color: var(--sidebar-active);
}




/* Confirmation Modal Styles */
#confirmationModal .modal-content {
    background: white;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    animation: slideUp 0.4s ease-out forwards;
    transform: translateY(20px);
    opacity: 0;
    margin-left: -12%;
    top: 40%;
    max-width: 400px;
    text-align: center;
    position: relative;
}

@keyframes slideUp {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

#confirmationModal .close-modal {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 20px;
    color: #999;
    cursor: pointer;
    transition: color 0.3s;
}

#confirmationModal .close-modal:hover {
    color: #4CAF50;
}

#confirmationModal h3 {
    color: #4CAF50;
    font-size: 20px;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

#confirmationMessage {
    color: #333;
    font-size: 16px;
    margin-bottom: 20px;
}

#confirmationOkBtn {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 14px;
}

#confirmationOkBtn:hover {
    background-color: #3e8e41;
    box-shadow: 0 4px 8px rgba(76, 175, 80, 0.2);
}




/* Animated Checkmark Styles */
.checkmark-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 20px;
}

.checkmark {
    width: 72px;
    height: 72px;
    stroke-width: 2;
    stroke: #4CAF50;
    fill: none;
    stroke-miterlimit: 10;
    animation: scaleUp 0.3s ease-out forwards;
}

.checkmark-circle {
    stroke-dasharray: 166;
    stroke-dashoffset: 166;
    animation: drawCircle 0.6s ease-out forwards;
}

.checkmark-check {
    stroke-dasharray: 48;
    stroke-dashoffset: 48;
    animation: drawCheck 0.3s 0.6s ease-out forwards;
}

@keyframes scaleUp {
    0% {
        transform: scale(0);
    }
    100% {
        transform: scale(1);
    }
}

@keyframes drawCircle {
    0% {
        stroke-dashoffset: 166;
    }
    100% {
        stroke-dashoffset: 0;
    }
}

@keyframes drawCheck {
    0% {
        stroke-dashoffset: 48;
    }
    100% {
        stroke-dashoffset: 0;
    }
}









</style>

<script>
// Function to show the warning modal
function showWarning(message) {
    const warningModal = document.getElementById('warningModal');
    const warningMessage = document.getElementById('warningMessage');
    warningMessage.textContent = message;
    warningModal.style.display = 'block';
    document.body.style.overflow = 'hidden';

    // Close modal on OK button click
    const warningOkBtn = document.getElementById('warningOkBtn');
    warningOkBtn.onclick = () => {
        warningModal.style.display = 'none';
        document.body.style.overflow = 'auto';
    };

    // Close modal when clicking outside
    window.onclick = (event) => {
        if (event.target === warningModal) {
            warningModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
    };
}





// Show the confirmation modal
function showConfirmation(message) {
    const confirmationModal = document.getElementById('confirmationModal');
    const confirmationMessage = document.getElementById('confirmationMessage');
    confirmationMessage.textContent = message;
    confirmationModal.style.display = 'block';
    document.body.style.overflow = 'hidden';

    const confirmationOkBtn = document.getElementById('confirmationOkBtn');
    confirmationOkBtn.onclick = () => {
        confirmationModal.style.display = 'none';
        document.body.style.overflow = 'auto';
    };
}

function showWarning(message) {
    const warningModal = document.getElementById('warningModal');
    const warningMessage = document.getElementById('warningMessage');
    warningMessage.textContent = message;
    warningModal.style.display = 'block';
    document.body.style.overflow = 'hidden';

    const warningOkBtn = document.getElementById('warningOkBtn');
    warningOkBtn.onclick = () => {
        warningModal.style.display = 'none';
        document.body.style.overflow = 'auto';
    };
}

// confirm button handler
confirmBtn.addEventListener('click', function () {
    if (!selectedDate || !selectedTime || !procedureSelect.value) {
        showWarning('Appointment booked successfully!');
        return;
    }

    // Add new appointment to the Appointments Card
    const newRow = document.createElement('tr');
    newRow.classList.add('appointment-row');
    newRow.innerHTML = `
        <td>${selectedDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })} - ${selectedTime}</td>
        <td>${procedureSelect.value}</td>
        <td>₱1,500</td> <!-- Placeholder cost -->
        <td>Dr. Resurreccion</td> <!-- Placeholder dentist -->
        <td><span class="status-badge status-upcoming">Upcoming</span></td>
        <td>
            <button class="action-btn view-btn"><i class="fas fa-eye"></i></button>
            <button class="action-btn download-btn"><i class="fas fa-download"></i></button>
        </td>
    `;

    // Insert the new row at the top of the table
    appointmentsTable.prepend(newRow);

    // Show confirmation modal
    showConfirmation('Your appsuccessfully booked!');

    // Close and reset modal
    newAppointmentModal.style.display = 'none';
    document.body.style.overflow = 'auto';
    resetModal();
});






</script>

























</body>







<div id="clockModal" class="modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Current Time</h2>
        <div class="analog-clock">
            <div class="hour-hand" id="hour-hand"></div>
            <div class="minute-hand" id="minute-hand"></div>
            <div class="second-hand" id="second-hand"></div>
            <div class="clock-center"></div>
        </div>
        <div class="big-clock" id="big-clock">12:00:00</div>
        <div class="big-date" id="big-date">Monday, January 1, 2023</div>
    </div>
</div>




<div id="appointmentModal" class="modal">
    <div class="modal-content" style="max-width: 800px; text-align: left;">
        <span class="close-modal">&times;</span>
        <div class="modal-header">
            <div style="display: flex; align-items: center; gap: 0;">
                <img src="logo.png" alt="Holy Family Dental Clinic Logo" style="width: 100px; height: 100px; border-radius: 50%;">
                <h2 style="margin: 0; font-size: 24px; color: var(--sidebar-active);">Holy Family Dental Clinic</h2>
            </div>
            <div class="modal-status-badge status-completed">Completed</div>
        </div>
        
        <div class="modal-body">
            <div class="modal-section">
                <h3><i class="fas fa-calendar-alt"></i> Appointment Information</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Date & Time:</span>
                        <span class="info-value">January 10, 2024 - 9:00 AM</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Dentist:</span>
                        <span class="info-value">Dr. Resurreccion</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Procedure:</span>
                        <span class="info-value">Topical Fluoride</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Cost:</span>
                        <span class="info-value">₱5,000</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Duration:</span>
                        <span class="info-value">45 minutes</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Notes:</span>
                        <span class="info-value">Patient showed good response to treatment. Recommended follow-up in 6 months.</span>
                    </div>
                </div>
            </div>
            
            <div class="modal-section">
                <h3><i class="fas fa-teeth"></i> Treatment Details</h3>
                <div class="treatment-details">
                    <p><strong>Procedure Description:</strong> Topical fluoride treatment involves applying fluoride directly to the teeth to strengthen enamel and prevent decay.</p>
                    <p><strong>Teeth Treated:</strong> All teeth surfaces</p>
                    <p><strong>Materials Used:</strong> Fluoride varnish (5% sodium fluoride)</p>
                    <p><strong>Aftercare Instructions:</strong> Avoid eating or drinking for 30 minutes after treatment. Brush gently for the rest of the day.</p>
                </div>
            </div>
            
            <div class="modal-section">
                <h3><i class="fas fa-camera"></i> Dental Progress Photos</h3>
                <div class="photo-gallery">
                    <div class="photo-item">
                        <img src="before.png" alt="Before Treatment">
                        <div class="photo-caption">Before Treatment</div>
                    </div>
                    <div class="photo-item">
                        <img src="after.png" alt="After Treatment">
                        <div class="photo-caption">After Treatment</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-primary" id="downloadFullReport">
                <i class="fas fa-file-pdf"></i> Download Full Report
            </button>
            <button class="btn btn-outline" id="printReport">
                <i class="fas fa-print"></i> Print
            </button>
        </div>
    </div>
</div>







<style>











    /* Modal for appointments style */
    .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid var(--border-color);
    }
    
    .modal-header h2 {
        color: var(--sidebar-active);
        margin: 0;
        font-size: 24px;
    }
    
    .modal-status-badge {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 600;
    }
    
    .status-completed {
        background-color: #e6f7e8;
        color: #4CAF50;
    }
    
    .status-upcoming {
        background-color: #fff8e6;
        color: #FFC107;
    }
    
    .status-canceled {
        background-color: #ffebee;
        color: #F44336;
    }
    
    .modal-body {
        max-height: 70vh;
        overflow-y: auto;
        padding-right: 10px;
    }
    
    .modal-section {
        margin-bottom: 25px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--border-color);
    }
    
    .modal-section:last-child {
        border-bottom: none;
        margin-bottom: 0;
        padding-bottom: 0;
    }
    
    .modal-section h3 {
        color: var(--text-color);;
        margin-top: 0;
        margin-bottom: 15px;
        font-size: 18px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .info-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }
    
    .info-item {
        display: flex;
        flex-direction: column;
    }
    
    .info-label {
        font-size: 14px;
        color: var(--text-muted);
        margin-bottom: 5px;
    }
    
    .info-value {
        font-size: 15px;
        color: var(--text-color);
        font-weight: 500;
    }
    
    .treatment-details {
        background-color: rgba(0, 191, 255, 0.05);
        padding: 15px;
        border-radius: 8px;
        border-left: 4px solid var(--sidebar-active);
    }
    
    .treatment-details p {
        margin: 0 0 10px 0;
        font-size: 14px;
        color: var(--text-color);
    }
    
    .treatment-details p:last-child {
        margin-bottom: 0;
    }
    
    .treatment-details strong {
        color: var(--sidebar-active);
    }
    
    .photo-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
    }
    
    .photo-item {
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: var(--shadow);
        transition: transform 0.3s ease;
    }
    
    .photo-item:hover {
        transform: translateY(-5px);
    }
    
    .photo-item img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        display: block;
    }
    
    .photo-caption {
        padding: 8px;
        background-color: var(--sidebar-bg);
        color: white;
        text-align: center;
        font-size: 13px;
    }
    
    .modal-footer {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        padding-top: 20px;
        margin-top: 20px;
        border-top: 1px solid var(--border-color);
    }
    
    .btn-primary {
        background-color: var(--sidebar-active);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .btn-primary:hover {
        background-color: #009acd;
        box-shadow: 0 4px 8px rgba(0, 191, 255, 0.2);
    }
    
    /* Scrollbar styling for modal */
    .modal-body::-webkit-scrollbar {
        width: 6px;
    }
    
    .modal-body::-webkit-scrollbar-track {
        background: var(--bg-color);
        border-radius: 3px;
    }
    
    .modal-body::-webkit-scrollbar-thumb {
        background: var(--sidebar-active);
        border-radius: 3px;
    }
    
    .modal-body::-webkit-scrollbar-thumb:hover {
        background: #009acd;
    }
</style>













<script>
    // Update the clock in real-time
    function updateClock() {
        const now = new Date();
        
        // Digital clock in the stat card
        let hours = now.getHours();
        const ampm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12;
        hours = hours ? hours : 12; // Convert 0 to 12
        const minutes = now.getMinutes().toString().padStart(2, '0');
        const seconds = now.getSeconds().toString().padStart(2, '0');
        
        document.getElementById('current-time').textContent = `${hours}:${minutes}:${seconds} ${ampm}`;
        
        // Date in the stat card
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', options);
        
        // Big clock in the modal
        document.getElementById('big-clock').textContent = `${hours}:${minutes}:${seconds} ${ampm}`;
        
        // Big date in the modal
        const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById('big-date').textContent = now.toLocaleDateString('en-US', dateOptions);
        
        // Analog clock
        const hourHand = document.getElementById('hour-hand');
        const minuteHand = document.getElementById('minute-hand');
        const secondHand = document.getElementById('second-hand');
        
        const hourDegrees = (hours * 30) + (minutes * 0.5);
        const minuteDegrees = minutes * 6;
        const secondDegrees = seconds * 6;
        
        hourHand.style.transform = `rotate(${hourDegrees}deg)`;
        minuteHand.style.transform = `rotate(${minuteDegrees}deg)`;
        secondHand.style.transform = `rotate(${secondDegrees}deg)`;
    }
    
    // Update the clock immediately and then every second
    updateClock();
    setInterval(updateClock, 1000);
    
    // Modal functionality
    const clockCard = document.getElementById('clock-card');
    const modal = document.getElementById('clockModal');
    const closeModal = document.querySelector('.close-modal');
    
    clockCard.addEventListener('click', () => {
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
    });
    
    closeModal.addEventListener('click', () => {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto'; // Re-enable scrolling
    });
    
    window.addEventListener('click', (event) => {
        if (event.target === modal) {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Re-enable scrolling
        }
    });








     // Appointment Modal Functionality
    document.addEventListener('DOMContentLoaded', function() {
        const viewButtons = document.querySelectorAll('.view-btn');
        const appointmentModal = document.getElementById('appointmentModal');
        const closeModal = appointmentModal.querySelector('.close-modal');
        
        // Sample appointment data (in a real app, this would come from a database)
        const appointments = {
            1: {
                date: "January 10, 2024 - 9:00 AM",
                procedure: "Topical Fluoride",
                cost: "₱5,000",
                dentist: "Dr. Resurreccion",
                status: "completed",
                duration: "45 minutes",
                notes: "Patient showed good response to treatment. Recommended follow-up in 6 months.",
                procedureDesc: "Topical fluoride treatment involves applying fluoride directly to the teeth to strengthen enamel and prevent decay.",
                teethTreated: "All teeth surfaces",
                materials: "Fluoride varnish (5% sodium fluoride)",
                aftercare: "Avoid eating or drinking for 30 minutes after treatment. Brush gently for the rest of the day.",
                photos: ["before.png", "after.png"]
            }
            // Add more appointment data as needed
        };
        
        viewButtons.forEach(button => {
            button.addEventListener('click', function() {
                const appointmentId = this.getAttribute('data-id');
                const appointment = appointments[appointmentId];
                
                if (appointment) {
                    // Update modal content with appointment data
                    document.querySelector('.modal-status-badge').className = `modal-status-badge status-${appointment.status}`;
                    document.querySelector('.modal-status-badge').textContent = appointment.status.charAt(0).toUpperCase() + appointment.status.slice(1);
                    
                    // Update appointment info
                    document.querySelector('.info-value:nth-of-type(1)').textContent = appointment.date;
                    document.querySelector('.info-value:nth-of-type(2)').textContent = appointment.dentist;
                    document.querySelector('.info-value:nth-of-type(3)').textContent = appointment.procedure;
                    document.querySelector('.info-value:nth-of-type(4)').textContent = appointment.cost;
                    document.querySelector('.info-value:nth-of-type(5)').textContent = appointment.duration;
                    document.querySelector('.info-value:nth-of-type(6)').textContent = appointment.notes;
                    
                    // Update treatment details
                    const treatmentDetails = document.querySelector('.treatment-details');
                    treatmentDetails.innerHTML = `
                        <p><strong>Procedure Description:</strong> ${appointment.procedureDesc}</p>
                        <p><strong>Teeth Treated:</strong> ${appointment.teethTreated}</p>
                        <p><strong>Materials Used:</strong> ${appointment.materials}</p>
                        <p><strong>Aftercare Instructions:</strong> ${appointment.aftercare}</p>
                    `;
                    
                    // Update photos
                    const photoGallery = document.querySelector('.photo-gallery');
                    photoGallery.innerHTML = '';
                    
                    appointment.photos.forEach((photo, index) => {
                        const caption = index === 0 ? "Before Treatment" : "After Treatment";
                        photoGallery.innerHTML += `
                            <div class="photo-item">
                                <img src="${photo}" alt="${caption}">
                                <div class="photo-caption">${caption}</div>
                            </div>
                        `;
                    });
                    
                    // Show modal
                    appointmentModal.style.display = 'block';
                    document.body.style.overflow = 'hidden';
                }
            });
        });
        
        closeModal.addEventListener('click', function() {
            appointmentModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        });
        
        window.addEventListener('click', function(event) {
            if (event.target === appointmentModal) {
                appointmentModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
        
        // Download and print buttons
        document.getElementById('downloadFullReport').addEventListener('click', function() {
            alert('Downloading full report...');
            // In a real app, this would generate and download a PDF
        });
        
        document.getElementById('printReport').addEventListener('click', function() {
            window.print();
        });
    });





</script>












</html>
